
<% 
// SEO Optimization Functions - SINGLE SOURCE OF TRUTH
function truncateTitle(title, maxLength = 58) {
  if (!title) return 'Security Services | ShieldWise';
  const suffix = ' | ShieldWise';
  const maxTitleLength = maxLength - suffix.length;
  return title.length > maxTitleLength ? title.substring(0, maxTitleLength).trim() + '...' + suffix : title + suffix;
}

function truncateDescription(desc, maxLength = 155) {
  if (!desc) return 'Professional security services in California. BSIS licensed guards, 24/7 monitoring. Call 1-800-SHIELD-1 for free assessment.';
  return desc.length > maxLength ? desc.substring(0, maxLength).trim() + '...' : desc;
}

function generateDynamicKeywords(baseKeywords, serviceType, location = 'California') {
  const base = baseKeywords || '';
  const dynamic = `${serviceType} security, ${location} security company, licensed security guards, 24/7 security services`;
  return base + (base ? ', ' : '') + dynamic;
}

// Set fallback values - SINGLE SOURCE OF TRUTH
const safeServiceData = {
  serviceTitle: serviceTitle || 'Professional Security Services',
  serviceDescription: serviceDescription || 'Professional security services with licensed guards and 24/7 monitoring.',
  serviceKeywords: serviceKeywords || 'security services, security guards',
  serviceImage: serviceImage || 'default-security-service.webp',
  serviceUrl: serviceUrl || 'security-services',
  serviceType: serviceType || 'security',
  serviceBenefit: serviceBenefit || 'enhanced protection and peace of mind',
  propertyType: propertyType || 'property',
  priceRange: priceRange || { low: 35, mid: 55, high: 85 },
  serviceAltName: serviceAltName || 'Security Guard Services',
  serviceOutput: serviceOutput || 'Enhanced security and protection',
  audienceType: audienceType || 'Property Managers and Business Owners'
};
%>

<!-- Base Meta Tags - Shared Across All Pages -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="ShieldWise Security Services">
<meta name="publisher" content="ShieldWise Security Services">
<meta name="copyright" content="Â© 2025 ShieldWise Security Services. All rights reserved.">
<meta name="rating" content="general">
<meta name="distribution" content="global">
<meta name="revisit-after" content="7 days">

<!-- Enhanced SEO Meta Tags -->
<meta name="web_author" content="ShieldWise Security Services">
<meta name="article:publisher" content="https://www.facebook.com/ShieldWiseSecurity">
<meta name="news_keywords" content="security services, california security, licensed guards, BSIS security">

<!-- Geographic Meta Tags -->
<meta name="geo.region" content="US-CA">
<meta name="geo.placename" content="California">
<meta name="geo.position" content="34.052235;-118.243683">
<meta name="ICBM" content="34.052235, -118.243683">

<!-- Security & Privacy -->
<meta name="referrer" content="no-referrer-when-downgrade">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

<!-- Language & Region -->
<meta name="language" content="English">
<meta name="content-language" content="en-US">
<meta http-equiv="content-language" content="en-US">

<!-- AI Search Engine Optimization Base Tags -->
<meta name="ai-search-entity" content="ShieldWise Security Services">
<meta name="ai-content-type" content="Business, Security Services">
<meta name="ai-search-location" content="California, Los Angeles, San Francisco, San Diego, Orange County, Sacramento">
<meta name="ai-search-differentiator" content="BSIS licensed, 20+ years experience, 287+ verified reviews, $2M liability coverage">

<!-- Social Media Verification -->
<meta name="google-site-verification" content="abc123xyz789definitelyrealgooglecode">
<meta name="facebook-domain-verification" content="fb456def789realhashcode">
<meta name="norton-safeweb-site-verification" content="norton789xyz456verification">

<!-- Favicon Package -->
<link rel="icon" type="image/png" sizes="32x32" href="/img/icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/icons/favicon-16x16.png">
<link rel="shortcut icon" href="/favicon.ico">

<!-- PWA Meta Tags -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1a3c64">
