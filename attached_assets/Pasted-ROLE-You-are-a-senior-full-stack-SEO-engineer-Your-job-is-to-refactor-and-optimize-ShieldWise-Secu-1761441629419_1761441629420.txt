ROLE
You are a senior full-stack/SEO engineer. Your job is to refactor and optimize ShieldWise Security’s Services pages (Node.js + EJS in views/services) to achieve top rankings across California on Google, Bing, and AI search. You must deliver a uniform, professional layout; high-quality content; airtight technical SEO; strong local/EEAT signals; fast performance; and full accessibility.

SCOPE
- Tech: Node.js, EJS templates, HTML/CSS/JS (no CMS).
- Target: All service types across California (statewide + city/region variants).
- Directory: /views/services/*.ejs (+ shared partials, assets, schema, routes).

PRIMARY GOALS
1) Make every Services page share one beautiful, conversion-focused layout.
2) Add best-in-class on-page SEO for statewide + local intent (“in California”, major metros/cities).
3) Optimize for AI Overviews and LLM search with structured data, direct answers, and FAQs.
4) Pass Core Web Vitals and A11y audits; ensure fast, mobile-first UX.
5) Strengthen internal linking and crawlability so all services rank and get discovered.

TASKS (DO ALL)

A) DESIGN SYSTEM & LAYOUT (EJS)
- Create a single master template: /views/services/_service-layout.ejs
  Sections: 
  1. Hero (H1, 1-sentence value prop, trust badges)
  2. Quick Proof (bulleted USPs: Licensed/Insured, 24/7 Dispatch, Same-Day Coverage)
  3. Service Overview (what/where/for whom + CA coverage statement)
  4. Use Cases (3–6 cards with scenarios)
  5. Credentials & Vetting (licensing, training, background checks)
  6. Pricing/Engagement Models (hourly, event, post orders—no exact prices if not available)
  7. Local Coverage (statewide + sample cities, link to city/service variants)
  8. FAQs (5–8 Q&As tailored to the service)
  9. CTA Block (Get a Quote: phone, form, email)
  10. Footer trust (associations, insurance, client logos if available)
- Style: clean, modern, mobile-first; consistent typography, spacing, button styles; visible focus states.
- Reuse partials for header/footer/breadcrumbs/CTA to avoid duplication.

B) CONTENT & KEYWORDS
- Write unique, natural copy per service with primary keyword in H1 and first paragraph.
- Include state + local modifiers naturally (e.g., “Security Guard Services in California”, “Los Angeles, Orange County, San Diego”).
- Insert semantically related terms (LSI): “licensed security guards”, “on-site protection”, “patrol”, “post orders”, “event security”, “corporate/residential/retail”.
- Add a short “AI-friendly summary” (2–3 sentences) near the top answering **who/what/where/why**—this helps AI Overviews.
- Provide 5–8 FAQs per service (concise, factual answers in plain language).
- Ensure one H1, logical H2/H3s, no duplicate headings, no filler or spun text.

C) TECHNICAL SEO
- Titles (~60 chars): `{{Service}} in California | ShieldWise Security`
- Meta descriptions (~155 chars): benefit + coverage + CTA.
- Canonical: self-referencing per page.
- Add Breadcrumbs (Home > Services > Service Name).
- Internal links: from every service page to 3–6 related services and to location/city variants.
- Fix/avoid: empty hrefs, broken links, duplicate content; ensure clean, descriptive URLs.
- Generate/update: sitemap.xml entries for all service pages.

D) SCHEMA (JSON-LD)
Add the following (as appropriate) to each service page:
1) LocalBusiness (sitewide constants via partial; include NAP, service area = California)
2) Service (name, areaServed=California, provider=ShieldWise Security)
3) FAQPage (for the page’s FAQs)
4) BreadcrumbList
(Optionally) AggregateRating/Review if you have real data.

E) CITY/STATE COVERAGE STRATEGY
- Add a “Service Areas” section listing major CA metros (Los Angeles, San Diego, San Jose, San Francisco, Sacramento, Fresno, Long Beach, Oakland, Bakersfield, Anaheim, Santa Ana, Irvine, Riverside, Stockton, Chula Vista, etc.).
- Link to city-specific variants if available; otherwise link to a state hub.
- Ensure copy makes it clear we serve clients statewide with fast deployment.

F) PERFORMANCE
- Convert service images to WebP/AVIF; correct dimensions; add width/height and `loading="lazy"`.
- Defer/async non-critical JS; inline critical CSS where needed; remove unused CSS/JS.
- Add proper cache headers for static assets; ensure gzip/Brotli active.
- Keep above-the-fold CLS near zero (reserve image/container space).

G) ACCESSIBILITY
- One H1 per page; semantic landmarks (<header>, <nav>, <main>, <footer>).
- Labels for every form input; no placeholder-only forms.
- Descriptive alt on informative images; `alt=""` on decorative.
- Ensure WCAG AA contrast; visible keyboard focus; Tab/Escape behavior on menus/dialogs.

H) CONVERSION
- Persistent contact: click-to-call, email, “Get a Quote” CTA.
- Short, accessible contact form (Name, Email, Phone, Service Type, City, Details).
- Trust signals: licensing/insurance badges, years in business, dispatch availability.

I) TEMPLATE EXAMPLE (EJS SKELETON)
Create `/views/services/_service-layout.ejs` and render all service pages from it:
----------------------------------------------------------------
<%- include('../partials/head', { 
  title: `${serviceName} in California | ShieldWise Security`, 
  description: metaDescription, 
  canonical: canonicalUrl 
}) %>

<main id="main" class="container">
  <nav aria-label="Breadcrumb">
    <ol class="breadcrumbs">
      <li><a href="/">Home</a></li>
      <li><a href="/services">Services</a></li>
      <li aria-current="page"><%= serviceName %></li>
    </ol>
  </nav>

  <header class="hero">
    <h1><%= serviceName %> in California</h1>
    <p class="lede"><%= aiSummary %></p>
    <div class="usp">
      <ul>
        <li>Licensed & Insured</li>
        <li>24/7 Dispatch & Rapid Deployment</li>
        <li>Trained, Vetted, Professional Guards</li>
      </ul>
    </div>
    <a class="btn btn-primary" href="/contact">Get a Quote</a>
  </header>

  <section class="overview">
    <h2>Overview</h2>
    <p><%= overview %></p>
  </section>

  <section class="use-cases">
    <h2>Common Use Cases</h2>
    <div class="cards">
      <% useCases.forEach(u => { %>
        <article class="card">
          <h3><%= u.title %></h3>
          <p><%= u.text %></p>
        </article>
      <% }) %>
    </div>
  </section>

  <section class="credentials">
    <h2>Licensing, Vetting & Training</h2>
    <p><%= credentials %></p>
  </section>

  <section class="coverage">
    <h2>Service Areas Across California</h2>
    <p>We provide statewide coverage including:</p>
    <ul class="cities">
      <% cities.forEach(c => { %><li><a href="<%= c.url %>"><%= c.name %></a></li><% }) %>
    </ul>
  </section>

  <section class="faqs">
    <h2>FAQs</h2>
    <dl>
      <% faqs.forEach(f => { %>
        <dt><%= f.q %></dt>
        <dd><%= f.a %></dd>
      <% }) %>
    </dl>
  </section>

  <section class="cta">
    <h2>Ready to Secure Your Property?</h2>
    <a class="btn btn-primary" href="tel:1714XXXXXXX">Call Now</a>
    <a class="btn btn-outline" href="/contact">Request a Quote</a>
  </section>
</main>

<%- include('../partials/jsonld-service', { 
  serviceName, 
  canonicalUrl, 
  faqs, 
  cities 
}) %>
<%- include('../partials/footer') %>
----------------------------------------------------------------

J) JSON-LD PARTIAL (example keys)
- LocalBusiness (sitewide): name, url, logo, telephone, address, geo (if available), areaServed: “California”.
- Service (this page): serviceType = serviceName, areaServed: “California”, provider = LocalBusiness.
- FAQPage: map from faqs[].
- BreadcrumbList: Home > Services > serviceName.

K) ACCEPTANCE CRITERIA
- Titles/meta unique on every service page; canonical present.
- H1 contains “{{Service}} in California”.
- Lighthouse (Mobile): Performance ≥ 90, Accessibility ≥ 95, Best Practices ≥ 95, SEO ≥ 95.
- No broken links/empty anchors; sitemap updated; robots allows services.
- JSON-LD validates in Rich Results; FAQ and Service detected.
- Content is unique across services (no duplication/spin); reads naturally.
- Internal links to related services and city pages present.
- Images are WebP/AVIF with lazy-load, correct dimensions, and alt text.
- Forms accessible and functional; spam protections considered (honeypot/rate limit).

INPUTS TO EXPECT (per service)
- serviceName
- metaDescription
- aiSummary (2–3 sentences answer style)
- overview (2–4 paragraphs, include CA coverage)
- useCases (3–6 items)
- credentials (1–2 paragraphs)
- cities (array of {name, url})
- faqs (5–8 Q&A)

BEGIN
Refactor `/views/services` to use the shared layout and regenerate all service pages with high-quality, keyword-rich content targeted to California. Implement schema, internal links, performance & a11y improvements, and produce an updated sitemap. Provide a short report of pages changed and a Lighthouse summary.
