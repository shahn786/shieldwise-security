
document.addEventListener("DOMContentLoaded",function(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src")),o.classList.add("loaded"),t.unobserve(o)}})},{rootMargin:"200px 0px"});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}else document.querySelectorAll("img[data-src]").forEach(e=>{e.src=e.dataset.src,e.classList.add("loaded")});if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src")),o.paused&&o.autoplay&&o.play().catch(()=>{}),o.classList.add("loaded"),t.unobserve(o)}})},{rootMargin:"300px 0px"});document.querySelectorAll("video[data-src]").forEach(t=>{e.observe(t)})}else document.querySelectorAll("video[data-src]").forEach(e=>{e.src=e.dataset.src,e.classList.add("loaded")});const e=document.getElementById("background-video12");if(e&&"IntersectionObserver"in window){const t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting?e.play().catch(()=>{}):e.pause()})},{threshold:.1});t.observe(e)}document.querySelectorAll('img[fetchpriority="high"], video[fetchpriority="high"]').forEach(e=>{e.complete||e.readyState&&e.readyState>=3?e.classList.add("loaded"):(e.addEventListener("load",()=>e.classList.add("loaded")),e.addEventListener("loadeddata",()=>e.classList.add("loaded")))}),setTimeout(()=>{document.querySelectorAll('script[data-defer="true"]').forEach(e=>{const t=document.createElement("script");Array.from(e.attributes).forEach(e=>{"data-defer"!==e.name&&t.setAttribute(e.name,e.value)}),e.innerHTML&&t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})},2e3),console.log("Performance optimization script loaded.")});
